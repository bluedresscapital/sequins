// Example reducer file. Generated by gen_component
import {
  ADDED_PORT,
  ADDING_PORT,
  ERR_ADDING_PORT,
  LOADING_PORTS,
  LOADED_PORTS,
  SELECT_PORT,
  RESET_REDIRECT,
} from "../actions/portfolio";

const initialState = {
  portfolios : [] as any[],
  loading: false,
  selected_port: -1,
  adding_port: false,
  err_adding_port: false,
  redirect: false,
}

export default function portfolio(state=initialState, action) {
  switch (action.type) {
    case ADDED_PORT:
      let current_ports = state.portfolios;
      current_ports.push(action.portfolio)
      return {...state, adding_port: false, portfolios: current_ports, selected_port: action.portfolio.id, redirect: true}
    case ADDING_PORT:
      return {...state, adding_port: true}
    case ERR_ADDING_PORT:
      return {...state, adding_port: false, err_adding_port: true}
    case LOADING_PORTS:
      return {...state, loading: true }
    case LOADED_PORTS:
      return {...state, loading: false, portfolios: action.portfolios}
    case RESET_REDIRECT:
      return {...state, redirect: false}
    case SELECT_PORT:
      return {...state, selected_port: action.id }
    default:
      return state
  }
}